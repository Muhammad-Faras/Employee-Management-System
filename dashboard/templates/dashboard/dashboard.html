{% extends "dashboard/base.html" %}

{% block css_style %}

{% endblock %}
{% block content %}


        <!-- Main Content -->
        <div class="flex-grow p-6">

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- My Projects Total -->
                <div class="bg-white p-4 rounded shadow-lg flex flex-col items-center">
                    <div class="text-3xl font-bold mb-2">
                        <i class="fas fa-folder-open text-blue-500"></i>
                    </div>
                    <div class="text-2xl font-semibold">Projects</div>
                    <div class="text-gray-500">Total: {{ my_projects }}</div>
                </div>
                <!-- Attendance Total -->
                <div class="bg-white p-4 rounded shadow-lg flex flex-col items-center">
                    <div class="text-3xl font-bold mb-2">
                        <i class="fas fa-user-check text-green-500"></i>
                    </div>
                    <div class="text-2xl font-semibold">Attendance</div>
                    <div class="text-gray-500">Total: {{ attendance_percentage }}%</div>
                </div>
                <!-- Available Leaves -->
                <div class="bg-white p-4 rounded shadow-lg flex flex-col items-center">
                    <div class="text-3xl font-bold mb-2">
                        <i class="fas fa-calendar-alt text-yellow-500"></i>
                    </div>
                    <div class="text-2xl font-semibold">Leaves</div>
                    <div class="text-gray-500">total: {{ total_leaves_approved }}</div>
                </div>
                <!-- Salary -->
                <div class="bg-white p-4 rounded shadow-lg flex flex-col items-center">
                    <div class="text-3xl font-bold mb-2">
                        <i class="fas fa-dollar-sign text-red-500"></i>
                    </div>
                    <div class="text-2xl font-semibold">Tasks</div>
                    <div class="text-gray-500">Total: {{ total_tasks }}</div>
                </div>
            </div>
        </div>



        <!-- Main Flex Container -->
        <div class="flex flex-col lg:flex-row lg:space-x-6 space-y-6 lg:space-y-0">
            <div class="bg-white p-6 rounded-lg shadow-lg w-full lg:w-1/2 card-hover">
                <h2 class="text-2xl font-semibold mb-4 text-gray-700">My Teams</h2>
                <table class="w-full table-auto">
                    <thead>
                        <tr class="bg-gray-200 text-left">
                            <th class="px-4 py-2">Team Name</th>
                            <th class="px-4 py-2">Project Title</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200">
                        {% for team in my_teams %}
                        <tr>
                            <td class="border px-4 py-2 text-gray-800">{{ team.name }}</td>
                            <td class="border px-4 py-2 text-green-500 font-semibold text-center">
                                <div class="border border-green-500 px-4 py-2 inline-block ">{{ team.project.title }}</div>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            

           <!-- My Todos Section -->
<div class="bg-white p-6 rounded-lg shadow-lg w-full lg:w-1/2 card-hover">
    <h2 class="text-2xl font-semibold mb-4 text-gray-700">My Tasks</h2>
    <table class="w-full table-auto">
        <thead>
            <tr class="bg-gray-200 text-left">
                <th class="px-4 py-2">Project Title</th>
                <th class="px-4 py-2">Task Type</th>
                <th class="px-4 py-2">Status</th>
            </tr>
        </thead>
        <tbody class="divide-y divide-gray-200 ">
            {% for task in my_tasks %}
            <tr>
                <td class="border px-4 py-2">{{ task.project.title }}</td>
                <td class="border px-4 py-2">{{ task.task_type }}</td>
                <td class="border px-4 py-2 text-center
                    {% if task.status == 'Completed' %}
                        border-green-500 text-green-500
                    {% elif task.status == 'In Progress' %}
                        border-yellow-500 text-yellow-500
                    {% elif task.status == 'Not Started' %}
                        border-gray-500 text-gray-500
                    {% elif task.status == 'On Hold' %}
                        border-orange-500 text-orange-500
                    {% elif task.status == 'Cancelled' %}
                        border-red-500 text-red-500
                    {% endif %}">
                    {{ task.status }}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

        </div>
    </div>


{% endblock %}
